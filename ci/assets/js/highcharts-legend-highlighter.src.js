!function(e){"use strict";var i=e.addEvent,a=function(e){switch(e){case"line":case"spline":case"area":case"areaspline":case"arearange":case"areasplinerange":case"column":case"columnrange":case"bar":case"scatter":case"bubble":case"boxplot":case"errorbar":case"waterfall":case"gauge":case"pie":case"funnel":return!0;default:return!1}},t=function(e,i){return e.series?e.series.type:i[e.index].type},r=function(e){return void 0!==e.index?e.index:e.series.index};e.wrap(e.Legend.prototype,"renderItem",function(e,s){if(e.apply(this,Array.prototype.slice.call(arguments,1)),this.chart.options.legend.highlightSeries&&this.chart.options.legend.highlightSeries.enabled===!0&&void 0===s._legendHighlightReady){var c=this.chart.series,n=s.legendGroup.element,d=t(s,c),o=r(s,d),l=this.chart.options.legend.highlightSeries,p={defaultOpacity:l.defaultOpacity?l.defaultOpacity:1,dimmedOpacity:l.dimmedOpacity?l.dimmedOpacity:.25,dimPiePieces:l.dimPiePieces};if(!a(d))return void console.error('[highcharts-legend-highlight.js]: Chart type "'+d+'" is not supported');i(n,"mouseenter",function(){var e,i={};if(void 0!==s.linkedSeries)for(e=0;e<s.linkedSeries.length;++e)i[s.linkedSeries[e].index]=!0;for(e=0;e<c.length;++e)e!==o&&void 0===i[e]&&(c[e].group.attr("opacity",p.dimmedOpacity),c[e].markerGroup.attr("opacity",p.dimmedOpacity))}),i(n,"mouseleave",function(){var e,i={};if(void 0!==s.linkedSeries)for(e=0;e<s.linkedSeries.length;++e)i[s.linkedSeries[e].index]=!0;for(e=0;e<c.length;++e)e!==o&&void 0===i[e]&&(c[e].group.attr("opacity",p.defaultOpacity),c[e].markerGroup.attr("opacity",p.defaultOpacity))}),"pie"===d&&(i(n,"mouseenter",function(){for(var e=0;e<s.series.data.length;++e)s.series.data[e].sliced&&(s.series.data[e].slice(!1,!0),s.series.data[e]._restoreSlice=!0),p.dimPiePieces&&s.series.data[e].graphic.attr("opacity",p.dimmedOpacity);s.slice(!0,!0),p.dimPiePieces&&s.graphic.attr("opacity",p.defaultOpacity)}),i(n,"mouseleave",function(){s.slice(!1,!0);for(var e=0;e<s.series.data.length;++e)s.series.data[e]._restoreSlice&&(s.series.data[e].slice(!0,!0),s.series.data[e]._restoreSlice=void 0),p.dimPiePieces&&s.series.data[e].graphic.attr("opacity",p.defaultOpacity)})),"funnel"===d&&(i(n,"mouseenter",function(){for(var e=0;e<s.series.data.length;++e)s.series.data[e]!==s&&s.series.data[e].graphic.attr("opacity",p.dimmedOpacity)}),i(n,"mouseleave",function(){for(var e=0;e<s.series.data.length;++e)s.series.data[e]!==s&&s.series.data[e].graphic.attr("opacity",p.defaultOpacity)})),s._legendHighlightReady=!0}})}(Highcharts);